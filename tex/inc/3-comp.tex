\section{Исследование эффективности разработанного программного обеспечения}

В главе производится сравнение параллельной и последовательной программ реализующих,
рассматриваемый в данной работе, спектрально-разностный метод.
Приводятся результаты исследований параллельной программы сгенированной системой LuNA.
Также представленно сравнение времени работы программ реализующих спектрально-разностный алгоритм
и его конечно-разностного аналога.

\subsection{Сравнение времени работы последовательной и параллельной реализаций}

Время работы спектрально-разностного алгоритма, при фиксированных физических параметрах среды и временном интервале,
зависит от 2 параметров: от размера сетки по $z$ кординате и от количества рассматриваемых гармоник.

Если положить, что количество узлов по $z$ координате равно $N$, а количество рассматриваемых гармоник равно $K$,
то ассимпточеская оценка времени работы последовательного алгоритма составит $O(N\cdot K)$. Однако на реальных численных задачах
количество гармоник $K \ll N$, это означает, что сложность алгоритма в среднем составит $O(N \cdot const)=O(N)$.

Если рассмотреть идеальную систему с $T$ физическими вычислительными ядрами, то при достаточно большой значении $N$,
ожидаемое ускорение согласно Закону Амдала не превзойдет величины $S = \frac{1}{\frac{T}{N} + \frac{1-\frac{T}{N}}{T}}$

Для эксперимента была взята система с 8 физическими ядрами($T=8$), значения сетки по $z$ варьировались от $2^8$ до $2^{16}$.
Также для того, чтобы показать, что ассимтотическая оценка сложности может быть показательной для оценки сложности алгоритма,
варьировалось число рассматриваемых гармоник.

\addimghere{perf-3-log}{0.75}{Сравнение последовательной и параллельной реализации}{perf-3-log}

В результате распараллеливания удается добиться прироста производительности примерно в 6-7 раз. Тогда как
ожидаемое значение $S$ по закону Амдала составляет 7,5-8 для рассматриваемых сеток.

Другим интересным результатом является то, что при достаточно большом количестве рассматриваемых гармоник
наиболее эффективный результат дает комбинация Intel MKL и OpenMP.

\addimghere{mkl-final-k}{0.75}{Сравнение параллельных реализаций с/без использования Intel MKL}{mkl-final-k}

Отдельный интерес представляет тест масштабируемости параллельной реализации с использованием OpenMP. Он показывает, что величина $T(N)/T(1)$, где $T(N)$ - время работы программы для $N$ потоков, а $T(1)$ - время ее последовательного исполнения, растет с увеличением числа потоков $N$, что говорит о сильной масштабируемости рассматриваемой параллельной реализации.

\addimghere{perf-threads}{0.75}{Тест масштабируемости OpenMP}{perf-threads}

\subsection{Сравнение OpenMP и LuNA параллельных реалазиций}
В работе произведено сравнение производительности параллельной программы реализованной средствами OpenMP вручную
и программы автоматически сконструированной системой LuNA для одного узла с общей памятью автоматически(количество фрагментов
равно количеству физических ядер CPU этого узла).

\subsection{Сравнение с конечно-разностным методом}

Отдельным вопросом интересующим исследователя является вычислительная эффективность спектрально-разностного подхода.
Для этого необходимо при фиксированных параметрах рассматриваемой среды и временном интервале, подобрать количество гармоник таким образом,
чтобы численные решения обоих алгоритмов были эквиваленты.

\addimghere{fdm-vs-sdm}{0.75}{Сравнение времени работы спектрально-разностного и конечно-разностного методов для различного числа гармоник}{fdm-vs-sdm}

Численные эксперименты показывают, что время работы обоих алгоритмов сравнивы при количестве гармоник приблизительно равном 16.


\clearpage
